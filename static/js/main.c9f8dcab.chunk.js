(this["webpackJsonpreact-typescript-starter-pack"]=this["webpackJsonpreact-typescript-starter-pack"]||[]).push([[0],{51:function(e,t,c){},52:function(e,t,c){"use strict";c.r(t);var a=c(1),s=c.n(a),n=c(22),r=c.n(n),i=c(6),o=c(3),l=c(0),d=function(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsxs)("div",{className:"footer__container",children:[Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("img",{src:"./img/Logo.svg",alt:"Logo",className:"logo"})}),Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsxs)("ul",{className:"navbar__list",children:[Object(l.jsx)("li",{className:"navbar__item",children:Object(l.jsx)("a",{href:"https://github.com/volodymir-tymtsias/react_phone-catalog",className:"navbar__link",children:"github"})}),Object(l.jsx)("li",{className:"navbar__item",children:Object(l.jsx)(i.b,{to:"contacts",className:"navbar__link",children:"contacts"})}),Object(l.jsx)("li",{className:"navbar__item",children:Object(l.jsx)(i.b,{to:"rights",className:"navbar__link",children:"rights"})})]})}),Object(l.jsxs)("div",{className:"footer__back",children:[Object(l.jsx)("p",{children:"Back to top"}),Object(l.jsx)("button",{type:"button",className:"button",onClick:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})},children:Object(l.jsx)("span",{className:"icon icon--up"})})]})]})})},j=c(7),u=c(10),b=c.n(u),p=function(e){var t=e.children,c=e.to,a=e.classes,s=e.activeClass;return Object(l.jsx)(i.c,{to:c,className:function(e){var t=e.isActive;return b()(a,Object(j.a)({},s,t))},children:t})},h=function(){return Object(l.jsx)("nav",{className:"navbar",children:Object(l.jsx)("ul",{className:"navbar__list",children:["home","phones","tablets","accessories"].map((function(e){return Object(l.jsx)("li",{className:"navbar__item",children:Object(l.jsx)(p,{to:"home"===e?"/":e,classes:"navbar__link",activeClass:"navbar__link--active",children:e})},e)}))})})},m=c(8),O=c(4),x=s.a.createContext({cartItems:[],addCartItems:function(){},getTotalQuantity:function(){return 0},deleteCartItem:function(){},incrementCounter:function(){},decrementCounter:function(){}}),_=function(e){var t=e.children,c=Object(a.useState)(JSON.parse(localStorage.getItem("Cart")||"null")||[]),s=Object(O.a)(c,2),n=s[0],r=s[1],i=function(e){r(Object(m.a)(e)),localStorage.setItem("Cart",JSON.stringify(e))},o={cartItems:n,addCartItems:function(e){i([].concat(Object(m.a)(n),[{id:e.id,quantity:1,product:e}]))},getTotalQuantity:function(){return n.reduce((function(e,t){return e+t.quantity}),0)},deleteCartItem:function(e){var t=n.findIndex((function(t){return t.id===e}));-1!==t&&(n.splice(t,1),i(n))},incrementCounter:function(e){var t=n.find((function(t){return t.id===e}));t&&(t.quantity+=1,i(n))},decrementCounter:function(e){var t=n.find((function(t){return t.id===e}));t&&t.quantity>1&&(t.quantity-=1,i(n))}};return Object(l.jsx)(x.Provider,{value:o,children:t})},g=s.a.createContext({favorites:[],addRemoveToFavorites:function(){}}),f=function(e){var t=e.children,c=Object(a.useState)([]),s=Object(O.a)(c,2),n=s[0],r=s[1],i={favorites:n,addRemoveToFavorites:function(e){var t=n.find((function(t){return t.id===e.id}));r(t?Object(m.a)(n.filter((function(t){return t.id!==e.id}))):[].concat(Object(m.a)(n),[e]))}};return Object(l.jsx)(g.Provider,{value:i,children:t})};function v(e,t){var c=new URLSearchParams(e.toString());return Object.entries(t).forEach((function(e){var t=Object(O.a)(e,2),a=t[0],s=t[1];null===s?c.delete(a):Array.isArray(s)?(c.delete(a),s.forEach((function(e){c.append(a,e)}))):c.set(a,s)})),c.toString()}var N=function(e){var t=e.placeholderName,c=Object(i.d)(),s=Object(O.a)(c,2),n=s[0],r=s[1],o=n.get("query")||"",d=Object(a.useState)(o),j=Object(O.a)(d,2),u=j[0],b=j[1],p=function(e){r(v(n,{query:e||null,page:"1"}))},h=Object(a.useMemo)((function(){return function(e,t){var c;return function(){for(var a=this,s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];clearTimeout(c),c=setTimeout((function(){e.apply(a,n)}),t)}}(p,300)}),[t]);return Object(a.useEffect)((function(){o||b("")}),[t]),Object(l.jsxs)("div",{className:"search",children:[Object(l.jsx)("input",{type:"text",className:"search__input",placeholder:"Search in ".concat(t,"..."),value:u,onChange:function(e){b(e.target.value),h(e.target.value)}}),u.length?Object(l.jsx)("button",{className:"button button--delete",type:"button","data-cy":"searchDelete",onClick:function(){b(""),r(v(n,{query:null,page:"1"}))},children:Object(l.jsx)("span",{className:"icon icon--close"})}):Object(l.jsx)("span",{className:"icon icon--search"})]})},y=function(){var e=Object(a.useContext)(x).getTotalQuantity,t=Object(a.useContext)(g).favorites,c=Object(o.m)().pathname.split("/"),s=e(),n="phones"===c[c.length-1]||"tablets"===c[c.length-1]||"accessories"===c[c.length-1]||"favorites"===c[c.length-1];return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsx)(i.b,{to:"/",children:Object(l.jsx)("img",{src:"./img/Logo.svg",alt:"Logo",className:"logo"})}),Object(l.jsx)(h,{})]}),Object(l.jsxs)("div",{className:"header__right",children:[n&&Object(l.jsx)("div",{className:"header__search",children:Object(l.jsx)(N,{placeholderName:c[c.length-1]})}),Object(l.jsx)(p,{to:"favorites",classes:"header__link",activeClass:"header__link--active",children:Object(l.jsx)("span",{className:"icon icon--favorites",children:!!t.length&&Object(l.jsx)("span",{className:"icon__counter",children:t.length})})}),Object(l.jsx)(p,{to:"cart",classes:"header__link",activeClass:"header__link--active",children:Object(l.jsx)("span",{className:"icon icon--cart",children:!!s&&Object(l.jsx)("span",{className:"icon__counter",children:s})})})]})]})},C="https://mate-academy.github.io/react_phone-catalog/api";function k(e){return new Promise((function(t){setTimeout(t,e)}))}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a={method:t};return c&&(a.body=JSON.stringify(c),a.headers={"Content-Type":"application/json; charset=UTF-8"}),k(300).then((function(){return fetch(C+e,a)})).then((function(e){if(!e.ok)throw new Error;return e.json()}))}var w=function(e){return S(e)},T=function(){return w("/products.json")},q=function(e){return w("/products/".concat(e,".json"))},E=function(){return Object(l.jsx)("div",{className:"Loader","data-cy":"loader",children:Object(l.jsx)("div",{className:"Loader__content"})})},I=c(16);function A(e,t){switch(e){case"phone":return"/phones/".concat(t);case"tablet":return"/tablets/".concat(t);case"accessory":return"/accessories/".concat(t);default:return"/products"}}var M=function(e){var t,c=e.product,s=Object(a.useContext)(x),n=s.cartItems,r=s.addCartItems,o=Object(a.useContext)(g),d=o.favorites,j=o.addRemoveToFavorites,u=c.price-c.price*c.discount/100,p=n.find((function(e){return e.id===c.id})),h=d.find((function(e){return e.id===c.id}));return Object(l.jsxs)("div",{className:"product-card","data-cy":"cardsContainer",children:[Object(l.jsxs)(i.b,{to:A(c.type,c.id),className:"product-card__top",children:[Object(l.jsx)("img",{src:"./".concat(c.imageUrl),alt:c.name,className:"product-card__image"}),Object(l.jsx)("p",{className:"product-card__name",children:c.name})]}),Object(l.jsxs)("div",{className:"product-card__bottom",children:[Object(l.jsxs)("div",{className:"product-card__price-container",children:[Object(l.jsx)("h2",{children:"$".concat(c.discount?u:c.price)}),!!c.discount&&Object(l.jsx)("p",{className:"product-card__discount",children:"$".concat(c.price)})]}),Object(l.jsxs)("div",{className:"product-card__characteristics",children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Screen"}),Object(l.jsx)("p",{children:c.screen})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"Capacity"}),Object(l.jsx)("p",{children:c.capacity})]}),Object(l.jsxs)("div",{children:[Object(l.jsx)("p",{children:"RAM"}),Object(l.jsx)("p",{children:c.ram})]})]}),Object(l.jsxs)("div",{className:"product-card__buttons",children:[Object(l.jsx)("button",{type:"button",className:b()("button","button--add",{"button--add-selected":p}),onClick:function(){p||r(c)},children:p?"Added to cart":"Add to cart"}),Object(l.jsx)("button",{type:"button",className:"button button--favorites","data-cy":"addToFavorite",onClick:(t=c,function(){j(t)}),children:Object(l.jsx)("span",{className:"icon ".concat(h?"icon--favorites-selected":"icon--favorites")})})]})]})]})},P=function(e){var t,c=e.title,s=e.products,n=Object(a.useState)(0),r=Object(O.a)(n,2),i=r[0],o=r[1],d=Object(I.a)({handleHeight:!1,refreshMode:"debounce",refreshRate:300}),j=d.width,u=void 0===j?0:j,b=d.ref,p=function(e){return 288*e-16};t=u<p(2)?1:u>=p(2)&&u<p(3)?2:u>=p(3)&&u<p(4)?3:4;var h=p(t),m=288*t,x=-288*(s.length-t);return Object(l.jsxs)("div",{className:"products-slider",ref:b,children:[Object(l.jsxs)("div",{className:"products-slider__top",children:[Object(l.jsx)("h1",{children:c}),Object(l.jsxs)("div",{className:"products-slider__buttons",children:[Object(l.jsx)("button",{type:"button",className:"button",onClick:function(){var e=i;e+=m,e=Math.min(e,0),o(e)},disabled:0===i,children:Object(l.jsx)("span",{className:"icon ".concat(0===i?"icon--left-disabled":"icon--left")})}),Object(l.jsx)("button",{type:"button",className:"button",onClick:function(){var e=i;e-=m,e=Math.max(e,x),o(e)},disabled:i===x,children:Object(l.jsx)("span",{className:"icon ".concat(i===x?"icon--right-disabled":"icon--right")})})]})]}),Object(l.jsx)("div",{className:"products-slider__slider",style:{width:"".concat(h,"px")},children:Object(l.jsx)("ul",{className:"products-slider__list",style:{transition:"margin-left ".concat(1e3,"ms"),marginLeft:"".concat(i,"px")},children:s.map((function(e){return Object(l.jsx)("li",{children:Object(l.jsx)(M,{product:e})},e.id)}))})})]})},L=function(e){var t=e.phonesQuantity,c=e.tabletsQuantity,a=e.accessoriesQuantity;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"shop-by-category__title",children:Object(l.jsx)("h1",{children:"Shop by category"})}),Object(l.jsxs)("div",{className:"shop-by-category__links-container","data-cy":"categoryLinksContainer",children:[Object(l.jsxs)(i.b,{to:"phones",className:"shop-by-category__link",children:[Object(l.jsx)("div",{className:" shop-by-category__img shop-by-category__img--phones "}),Object(l.jsx)("div",{className:"shop-by-category__name",children:Object(l.jsx)("h3",{children:"Mobile phones"})}),Object(l.jsx)("p",{className:"shop-by-category__quantity",children:"".concat(t," models")})]}),Object(l.jsxs)(i.b,{to:"tablets",className:"shop-by-category__link",children:[Object(l.jsx)("div",{className:" shop-by-category__img shop-by-category__img--tablets "}),Object(l.jsx)("div",{className:"shop-by-category__name",children:Object(l.jsx)("h3",{children:"Tablets"})}),Object(l.jsx)("p",{className:"shop-by-category__quantity",children:"".concat(c," models")})]}),Object(l.jsxs)(i.b,{to:"accessories",className:"shop-by-category__link",children:[Object(l.jsx)("div",{className:" shop-by-category__img shop-by-category__img--accessories "}),Object(l.jsx)("div",{className:"shop-by-category__name",children:Object(l.jsx)("h3",{children:"Accessories"})}),Object(l.jsx)("p",{className:"shop-by-category__quantity",children:"".concat(a," models")})]})]})]})},R=c(13),F=function(){var e,t=[{id:1,url:"./img/banner-phones.png",alt:"Phones"},{id:2,url:"./img/banner-tablets.png",alt:"Tablets"},{id:3,url:"./img/banner-accessories.png",alt:"Accessories"}],c=[Object(R.a)(Object(R.a)({},t[t.length-1]),{},{id:0})].concat(t,[Object(R.a)(Object(R.a)({},t[0]),{},{id:t.length+1})]),s=Object(I.a)({handleHeight:!1,refreshMode:"debounce",refreshRate:300}),n=s.width,r=void 0===n?0:n,i=s.ref;e=r<560?252:r<848?496:r<1136?772:1040;var o=1e3,d=Object(a.useState)(1),j=Object(O.a)(d,2),u=j[0],p=j[1],h=Object(a.useState)(o),m=Object(O.a)(h,2),x=m[0],_=m[1],g=function(){if(u===t.length)return _(0),void p(0);p(u+1)};return Object(a.useEffect)((function(){if(!x){if(_(o),0===u)return void p(u+1);p(u-1)}}),[u]),Object(a.useEffect)((function(){var e=setTimeout(g,5e3);return function(){return clearTimeout(e)}}),[u]),Object(l.jsxs)("div",{className:"banner",ref:i,children:[Object(l.jsxs)("div",{className:"banner__slider",children:[Object(l.jsx)("button",{className:"banner__button button button--banner",type:"button","aria-label":"Slide control left",onClick:function(){if(1===u)return _(0),void p(c.length-1);p(u-1)},children:Object(l.jsx)("span",{className:"icon icon--left"})}),Object(l.jsx)("div",{className:"banner__imgs-wrapper",children:Object(l.jsx)("div",{className:"banner__imgs-container",style:{transition:"margin-left ".concat(x,"ms"),marginLeft:"".concat(-e*u,"px")},children:c.map((function(t){return Object(l.jsx)("img",{src:t.url,alt:t.alt,className:"banner__img",style:{width:"".concat(e,"px")}},t.id)}))})}),Object(l.jsx)("button",{className:"banner__button  button button--banner",type:"button","aria-label":"Slide control right",onClick:g,children:Object(l.jsx)("span",{className:"icon icon--right"})})]}),Object(l.jsx)("div",{className:"banner__slides-dots",children:t.map((function(e){return Object(l.jsx)("button",{type:"button","aria-label":"Slide control dot",className:b()("banner__slide-dot",{"banner__slide-dot--selected":e.id===u}),onClick:(t=e.id,function(){x||_(o),p(t)})},e.id);var t}))})]})},B=function(e){var t=e.message,c=e.isError;return Object(l.jsx)("div",{className:b()("message",{"message--error":c}),children:Object(l.jsx)("h3",{children:t})})},Q=function(){var e=Object(a.useState)([]),t=Object(O.a)(e,2),c=t[0],s=t[1],n=Object(a.useState)(!1),r=Object(O.a)(n,2),i=r[0],o=r[1],d=Object(a.useState)(!1),j=Object(O.a)(d,2),u=j[0],b=j[1],p=c.filter((function(e){return e.discount>0})).sort((function(e,t){return t.price*t.discount-e.price*e.discount})),h=c.filter((function(e){return!e.discount})).sort((function(e,t){return t.price-e.price})),m=function(e){return c.filter((function(t){return t.type===e})).length};return Object(a.useEffect)((function(){b(!0),T().then((function(e){return s(e)})).catch((function(){o(!0)})).finally((function(){b(!1)}))}),[]),Object(l.jsxs)("div",{className:"home-page",children:[Object(l.jsx)("section",{className:"home-page__top-slider",children:Object(l.jsx)(F,{})}),Object(l.jsxs)("section",{className:"home-page__hot-prices",children:[!i&&!u&&Object(l.jsx)(P,{products:p,title:"Hot prices"}),i&&Object(l.jsx)(B,{message:"Failed to load products",isError:!0}),u&&Object(l.jsx)(E,{})]}),Object(l.jsx)("section",{className:"home-page__shop-by-category",children:Object(l.jsx)(L,{phonesQuantity:m("phone"),tabletsQuantity:m("tablet"),accessoriesQuantity:m("accessorie")})}),Object(l.jsxs)("section",{className:"home-page__new-models",children:[!i&&!u&&Object(l.jsx)(P,{products:h,title:"Brand new models"}),i&&Object(l.jsx)(B,{message:"Failed to load products",isError:!0}),u&&Object(l.jsx)(E,{})]})]})},$=function(){return Object(l.jsxs)("section",{className:"not-found-page",children:[Object(l.jsx)("div",{className:"not-found-page__message",children:Object(l.jsx)(B,{message:"Page not found",isError:!0})}),Object(l.jsx)(i.b,{to:"/",className:"not-found-page__link",children:"Home"})]})},D=function(e){var t=e.products;return Object(l.jsx)("ul",{className:"products-list","data-cy":"productList",children:t.map((function(e){return Object(l.jsx)("li",{className:"products-list__item",children:Object(l.jsx)(M,{product:e})},e.id)}))})},U=c(33),H=function(e){var t=e.children,c=e.params,a=Object(U.a)(e,["children","params"]),s=Object(i.d)(),n=Object(O.a)(s,1)[0];return Object(l.jsx)(i.b,Object(R.a)(Object(R.a)({to:{search:v(n,c)}},a),{},{children:t}))},J=function(e){var t=e.items,c=e.filterName,s=e.defaultValue,n=Object(a.useState)(!1),r=Object(O.a)(n,2),o=r[0],d=r[1],u=Object(i.d)(),p=Object(O.a)(u,1)[0].get(c)||s,h=function(){return d(!o)},m=function(e){var t=Object(j.a)({},c,e);return t.page="1",t};return Object(l.jsxs)("div",{className:b()("selector",{"selector--is-active":o}),children:[Object(l.jsxs)("button",{type:"button",className:b()("button","button--dropdown",{"button--dropdown-active":o}),onClick:h,children:[Object(l.jsx)("span",{children:function(){var e;return null===(e=t.find((function(e){return e.value===p})))||void 0===e?void 0:e.text}()}),Object(l.jsx)("span",{className:"icon ".concat(o?"icon--up-disabled":"icon--down-disabled")})]}),Object(l.jsx)("div",{className:b()("selector__menu",{"selector__menu--is-active":o}),children:t.map((function(e){return Object(l.jsx)(H,{className:b()("selector__link",{"selector__link--is-active":e.value===p}),params:m(e.value),onClick:h,children:e.text},e.value)}))})]})};var V=function(e){var t=e.quantity,c=e.perPage,a=e.page,s=Object(i.d)(),n=Object(O.a)(s,2),r=n[0],o=n[1],d=Math.ceil(t/c),j=function(e,t){for(var c=[],a=e;a<=t;a+=1)c.push(a);return c}(1,d);return Object(l.jsxs)("ul",{className:"pagination","data-cy":"pagination",children:[Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{type:"button",className:"button","data-cy":"paginationLeft",onClick:function(){"1"!==a&&o(v(r,{page:String(+a-1)}))},disabled:"1"===a,children:Object(l.jsx)("span",{className:"icon ".concat("1"===a?"icon--left-disabled":"icon--left")})})}),j.map((function(e){return Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{type:"button",className:b()("button",{"button--selected":e===+a}),onClick:(t=e,function(){t!==+a&&o(v(r,{page:String(t)}))}),children:e})},e);var t})),Object(l.jsx)("li",{className:"pagination__item",children:Object(l.jsx)("button",{type:"button",className:"button","data-cy":"paginationRight",onClick:function(){a!==String(d)&&o(v(r,{page:String(+a+1)}))},disabled:a===String(d),children:Object(l.jsx)("span",{className:"icon ".concat(a===String(d)?"icon--right-disabled":"icon--right")})})})]})},Y=function(e){var t=e.categoryName;return Object(l.jsx)("div",{className:"message",children:Object(l.jsx)("h3",{children:"".concat(t," not found")})})},z=function(e){var t=e.productName,c=Object(o.m)().pathname.split("/"),a=function(e,t,c){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"icon icon--right-disabled"}),c?Object(l.jsx)("div",{className:"breadcrumbs__text",children:t}):Object(l.jsx)(i.b,{to:"/".concat(e),className:"breadcrumbs__link",children:t})]})},s=function(e,c,s){var n=c===s.length-1;switch(e){case"":return Object(l.jsx)(i.b,{to:"/",className:"icon icon--home"});case"phones":return a(e,"Mobile phones",n);case"tablets":return a(e,"Tablets",n);case"accessories":return a(e,"Accessories",n);case"favorites":return a(e,"Favorites",n);default:return a(e,t||"",!0)}};return Object(l.jsx)("ul",{className:"breadcrumbs","data-cy":"breadCrumbs",children:c.map((function(e,t,c){return Object(l.jsx)("li",{className:"breadcrumbs__element",children:s(e,t,c)},e)}))})},G=function(e){var t,c=e.getProductsOfType,s=e.pageTitle,n=Object(a.useState)([]),r=Object(O.a)(n,2),o=r[0],d=r[1],j=Object(a.useState)(!1),u=Object(O.a)(j,2),b=u[0],p=u[1],h=Object(a.useState)(!1),x=Object(O.a)(h,2),_=x[0],g=x[1],f=Object(i.d)(),v=Object(O.a)(f,1)[0],N=null===(t=v.get("query"))||void 0===t?void 0:t.toLowerCase(),y=v.get("sort")||"age",C=v.get("perPage")||"4",k=v.get("page")||"1",S=function(e){return e.price-e.price*e.discount/100},w=c(o),q=N?w.filter((function(e){return e.name.toLowerCase().includes(N)})):Object(m.a)(w),I=function(){return"all"===C?q.length:+C},A=I()*+k-I(),M=I()*+k>q.length?q.length:I()*+k,P=function(){switch(y){case"name":q.sort((function(e,t){return e.name.localeCompare(t.name)}));break;case"price":q.sort((function(e,t){return(e.discount?S(e):e.price)-(t.discount?S(t):t.price)}));break;default:q.sort((function(e,t){return e.age-t.age}))}return q.slice(A,M)}();return Object(a.useEffect)((function(){p(!1),g(!0),T().then((function(e){return d(e)})).catch((function(){p(!0)})).finally((function(){g(!1)}))}),[s]),Object(l.jsxs)("div",{className:"products-page",children:[Object(l.jsx)("div",{className:"products-page__breadcrumbs",children:Object(l.jsx)(z,{})}),Object(l.jsx)("h1",{className:"products-page__title",children:s}),Object(l.jsx)("div",{className:"products-page__quantity",children:"".concat(w.length," models")}),!b&&!_&&!!q.length&&Object(l.jsxs)("section",{children:[Object(l.jsxs)("div",{className:"products-page__filters",children:[Object(l.jsxs)("div",{className:"products-page__sort",children:[Object(l.jsx)("p",{className:"products-page__filters-title",children:"Sort by"}),Object(l.jsx)(J,{items:[{text:"Newest",value:"age"},{text:"Alphabetically",value:"name"},{text:"Cheapest",value:"price"}],filterName:"sort",defaultValue:"age"})]}),Object(l.jsxs)("div",{className:"products-page__items-on-page",children:[Object(l.jsx)("p",{className:"products-page__filters-title",children:"Items on page"}),Object(l.jsx)(J,{items:[{text:"4",value:"4"},{text:"8",value:"8"},{text:"16",value:"16"},{text:"all",value:"all"}],filterName:"perPage",defaultValue:"4"})]})]}),Object(l.jsx)("div",{className:"products-page__products-container",children:Object(l.jsx)(D,{products:P})}),Object(l.jsx)("div",{className:"products-page__pagination-container",children:Object(l.jsx)(V,{quantity:q.length,perPage:I(),page:k})})]}),b&&Object(l.jsx)(B,{message:"Failed to load products",isError:!0}),_&&Object(l.jsx)(E,{}),!b&&!_&&!q.length&&!!w.length&&Object(l.jsx)(B,{message:"No search results",isError:!1}),!b&&!_&&!w.length&&Object(l.jsx)(Y,{categoryName:s})]})};function W(e){return e.filter((function(e){return"phone"===e.type}))}function K(e){return e.filter((function(e){return"tablet"===e.type}))}function X(e){return e.filter((function(e){return"accessory"===e.type}))}function Z(e,t){for(var c=Object(m.a)(e).filter((function(e){return e.id!==t})),a=c.length-1;a>0;a-=1){var s=Math.floor(Math.random()*(a+1)),n=[c[s],c[a]];c[a]=n[0],c[s]=n[1]}return c}var ee=c(5),te=c.n(ee),ce=c(9),ae=function(e){var t=e.imagesUrl,c=Object(a.useState)(t[0]),s=Object(O.a)(c,2),n=s[0],r=s[1],i=n.match(/[^\\/]+(?=\.\w+$)/)||"",o=Object(a.useState)(0),d=Object(O.a)(o,2),j=d[0],u=d[1],p=Object(I.a)({handleHeight:!1,refreshMode:"debounce",refreshRate:300}),h=p.width,m=p.ref,x=h&&h<392?60:80,_=(-x-16)*(t.length-4),g=x+16;return Object(l.jsxs)("div",{className:"product-gallery",ref:m,children:[Object(l.jsxs)("div",{className:"product-gallery__thumbnails-container",children:[t.length>5&&Object(l.jsx)("button",{type:"button",className:" product-gallery__thumbnail product-gallery__thumbnail--arrow ",onClick:function(){var e=j;e+=g,e=Math.min(e,0),u(e)},disabled:0===j,children:Object(l.jsx)("span",{className:"icon ".concat(0===j?"icon--up-disabled":"icon--up")})}),Object(l.jsx)("div",{className:"product-gallery__thumbnails",style:{height:"".concat(t.length>5?4*x+48:t.length*x+16*(t.length-1),"px")},children:Object(l.jsx)("div",{className:"product-gallery__list",style:{transition:"margin-top ".concat(300,"ms"),marginTop:"".concat(j,"px")},children:t.map((function(e){var t,c=e.match(/[^\\/]+(?=\.\w+$)/)||"";return Object(l.jsx)("button",{type:"button",className:b()("product-gallery__thumbnail",{"product-gallery__thumbnail--active":e===n}),style:{width:"".concat(x,"px"),height:"".concat(x,"px")},onClick:(t=e,function(){t!==n&&r(t)}),children:Object(l.jsx)("img",{src:"./".concat(e),alt:c[0],className:"product-gallery__image"})},e)}))})}),t.length>5&&Object(l.jsx)("button",{type:"button",className:" product-gallery__thumbnail product-gallery__thumbnail--arrow ",onClick:function(){var e=j;e-=g,e=Math.max(e,_),u(e)},disabled:j===_,children:Object(l.jsx)("span",{className:"icon ".concat(j===_?"icon--down-disabled":"icon--down")})})]}),Object(l.jsx)("div",{className:"product-gallery__large-image-container",children:Object(l.jsx)("img",{src:"./".concat(n),alt:i[0],className:"product-gallery__image"})})]})},se=function(){var e,t=Object(a.useContext)(x),c=t.cartItems,s=t.addCartItems,n=Object(a.useContext)(g),r=n.favorites,i=n.addRemoveToFavorites,d=Object(a.useState)([]),j=Object(O.a)(d,2),u=j[0],p=j[1],h=Object(a.useState)([]),m=Object(O.a)(h,2),_=m[0],f=m[1],v=Object(o.q)().productId,N=void 0===v?"":v,y=Object(a.useState)(null),C=Object(O.a)(y,2),k=C[0],S=C[1],w=Object(a.useState)({details:!1,products:!1}),I=Object(O.a)(w,2),A=I[0],M=I[1],L=Object(a.useState)(!1),R=Object(O.a)(L,2),F=R[0],Q=R[1],$=Object(o.o)(),D=u.find((function(e){return e.id===N})),U=!!D&&c.find((function(e){return e.id===D.id})),H=!!D&&r.find((function(e){return e.id===D.id})),J=D?D.price-D.price*D.discount/100:0;return Object(a.useEffect)((function(){M({details:!1,products:!1}),Q(!0);var e={details:!1,products:!1};(function(){var t=Object(ce.a)(te.a.mark((function t(){var c,a;return te.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(N).catch((function(){return e.details=!0,M(e),null}));case 2:return c=t.sent,t.next=5,T().catch((function(){return e.products=!0,M(e),[]}));case 5:a=t.sent,S(c),p(a),f(Z(a,N));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()().finally((function(){Q(!1)}))}),[N]),Object(l.jsxs)("div",{className:"product-details-page",children:[Object(l.jsx)("div",{className:"product-details-page__breadcrumbs",children:Object(l.jsx)(z,{productName:null===k||void 0===k?void 0:k.name})}),Object(l.jsxs)("button",{className:"product-details-page__back-button button button--back",type:"button","data-cy":"backButton",onClick:function(){return $(-1)},children:[Object(l.jsx)("span",{className:"icon icon--left"}),Object(l.jsx)("div",{className:"button__back-text",children:"Back"})]}),A.details&&Object(l.jsx)("div",{className:"product-details-page__message",children:Object(l.jsx)(B,{message:"Product was not found",isError:!0})}),A.products&&Object(l.jsx)("div",{className:"product-details-page__message",children:Object(l.jsx)(B,{message:"Failed to load products",isError:!0})}),F&&Object(l.jsx)(E,{}),!A.details&&!F&&k&&D&&Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{className:"product-details-page__title",children:null===k||void 0===k?void 0:k.name}),Object(l.jsxs)("div",{className:" product-details-page__container product-details-page__container--top-info ",children:[Object(l.jsx)("div",{className:" product-details-page__section product-details-page__section--top-info ",children:Object(l.jsx)(ae,{imagesUrl:k.images})}),Object(l.jsx)("div",{className:" product-details-page__section product-details-page__section--top-info ",children:Object(l.jsxs)("div",{className:"product-details-page__main-info-container",children:[Object(l.jsxs)("div",{className:"product-details-page__main-info",children:[Object(l.jsxs)("div",{className:"product-details-page__price-container",children:[Object(l.jsx)("h1",{children:"$".concat(D.discount?J:D.price)}),!!D.discount&&Object(l.jsx)("p",{className:"product-details-page__discount",children:"$".concat(D.price)})]}),Object(l.jsxs)("div",{className:"product-details-page__buttons",children:[Object(l.jsx)("button",{type:"button",className:b()("button","button--add",{"button--add-selected":U}),onClick:function(){!U&&D&&s(D)},children:U?"Added to cart":"Add to cart"}),Object(l.jsx)("button",{type:"button",className:"button button--favorites-large",onClick:(e=D,function(){i(e)}),children:Object(l.jsx)("span",{className:"icon ".concat(H?"icon--favorites-selected":"icon--favorites")})})]}),Object(l.jsxs)("div",{className:" product-details-page__characteristics product-details-page__characteristics--small ",children:[Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Screen"}),Object(l.jsx)("p",{children:k.display.screenSize})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Resolution"}),Object(l.jsx)("p",{children:k.display.screenResolution})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Processor"}),Object(l.jsx)("p",{children:k.hardware.cpu})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"RAM"}),Object(l.jsx)("p",{children:k.storage.ram})]})]})]}),Object(l.jsx)("div",{className:"product-details-page__id",children:"ID: ".concat(k.id)})]})})]}),Object(l.jsxs)("div",{className:" product-details-page__container product-details-page__container--description ",children:[Object(l.jsxs)("div",{className:" product-details-page__section product-details-page__section--description ","data-cy":"productDescription",children:[Object(l.jsx)("h2",{className:"product-details-page__subtitle",children:"About"}),Object(l.jsx)("hr",{className:"product-details-page__line"}),Object(l.jsx)("p",{className:"product-details-page__description",children:k.description})]}),Object(l.jsxs)("div",{className:" product-details-page__section product-details-page__section--description ",children:[Object(l.jsx)("h2",{className:"product-details-page__subtitle",children:"Tech specs"}),Object(l.jsx)("hr",{className:"product-details-page__line"}),Object(l.jsxs)("div",{className:"product-details-page__characteristics",children:[Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Screen"}),Object(l.jsx)("p",{children:k.display.screenSize})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Resolution"}),Object(l.jsx)("p",{children:k.display.screenResolution})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Processor"}),Object(l.jsx)("p",{children:k.hardware.cpu})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"RAM"}),Object(l.jsx)("p",{children:k.storage.ram})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Built in memory"}),Object(l.jsx)("p",{children:k.storage.flash})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Camera"}),Object(l.jsx)("p",{children:k.camera.primary})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Battery"}),Object(l.jsx)("p",{children:k.battery.type})]}),Object(l.jsxs)("div",{className:"product-details-page__characteristic",children:[Object(l.jsx)("p",{children:"Cell"}),Object(l.jsx)("p",{children:k.connectivity.cell})]})]})]})]})]}),!A.products&&!F&&!!u.length&&Object(l.jsx)("section",{className:"product-details-page__may-also-like",children:Object(l.jsx)(P,{products:_,title:"You may also like"})})]})},ne=function(){var e=Object(o.o)(),t=Object(a.useState)(!1),c=Object(O.a)(t,2),s=c[0],n=c[1],r=Object(a.useContext)(x),i=r.cartItems,d=r.getTotalQuantity,j=r.deleteCartItem,u=r.incrementCounter,b=r.decrementCounter,p=function(e){return e.product.discount?(e.product.price-e.product.price*e.product.discount/100)*e.quantity:e.product.price*e.quantity},h=function(e){return function(){u(e)}},m=function(e){return function(){b(e)}};return Object(l.jsxs)("div",{className:"cart-page",children:[Object(l.jsxs)("button",{className:"cart-page__back-button button button--back",type:"button","data-cy":"backButton",onClick:s?function(){return n(!1)}:function(){return e(-1)},children:[Object(l.jsx)("span",{className:"icon icon--left"}),Object(l.jsx)("div",{className:"button__back-text",children:"Back"})]}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{className:"cart-page__title",children:"Cart"}),!!i.length&&!s&&Object(l.jsxs)("div",{className:"cart-page__container",children:[Object(l.jsx)("div",{className:"cart-page__products",children:i.map((function(e){return Object(l.jsxs)("div",{className:"cart-page__product",children:[Object(l.jsx)("button",{className:"cart-page__delete-button button button--delete",type:"button","data-cy":"cartDeleteButton",onClick:(t=e.id,function(){j(t)}),children:Object(l.jsx)("span",{className:"icon icon--close-cart-item"})}),Object(l.jsxs)("div",{className:"cart-page__product-data",children:[Object(l.jsx)("img",{src:"./".concat(e.product.imageUrl),alt:e.product.name,className:"cart-page__img"}),Object(l.jsx)("p",{className:"cart-page__name",children:e.product.name}),Object(l.jsxs)("div",{className:"cart-page__counter",children:[Object(l.jsx)("button",{className:"button button--counter",type:"button","data-cy":"cartDeleteButton",onClick:m(e.id),disabled:1===e.quantity,children:"\u2212"}),Object(l.jsx)("div",{children:e.quantity}),Object(l.jsx)("button",{className:"button button--counter",type:"button","data-cy":"cartDeleteButton",onClick:h(e.id),children:"+"})]}),Object(l.jsx)("h2",{children:"$".concat(p(e))})]})]},e.id);var t}))}),Object(l.jsxs)("div",{className:"cart-page__total",children:[Object(l.jsx)("h1",{children:"$".concat(i.reduce((function(e,t){return e+p(t)}),0))}),Object(l.jsx)("div",{className:"cart-page__total-quantity","data-cy":"productQauntity",children:"Total for ".concat(d()," items")}),Object(l.jsx)("div",{className:"cart-page__button",children:Object(l.jsx)("button",{type:"button",className:"button button--add",onClick:function(){return n(!0)},children:"Checkout"})})]})]}),!i.length&&Object(l.jsx)(B,{message:"Your cart is empty",isError:!1}),s&&Object(l.jsx)(B,{message:"We are sorry, but this feature is not implemented yet",isError:!1})]})]})},re=function(){var e,t=Object(a.useContext)(g).favorites,c=Object(i.d)(),s=null===(e=Object(O.a)(c,1)[0].get("query"))||void 0===e?void 0:e.toLowerCase(),n=s?t.filter((function(e){return e.name.toLowerCase().includes(s)})):t;return Object(l.jsxs)("div",{className:"favorites-page",children:[Object(l.jsx)("div",{className:"favorites-page__breadcrumbs",children:Object(l.jsx)(z,{})}),Object(l.jsxs)("section",{children:[Object(l.jsx)("h1",{className:"favorites-page__title",children:"Favorites"}),Object(l.jsx)("div",{className:"favorites-page__quantity",children:"".concat(t.length," items")}),!!n.length&&Object(l.jsx)("div",{className:"favorites-page__products-container",children:Object(l.jsx)(D,{products:n})}),!!t.length&&!n.length&&Object(l.jsx)(B,{message:"No search results",isError:!1}),!t.length&&Object(l.jsx)(B,{message:"Your favorites is empty",isError:!1})]})]})},ie=function(){return Object(l.jsx)(_,{children:Object(l.jsx)(f,{children:Object(l.jsxs)("div",{className:"app",children:[Object(l.jsx)(y,{}),Object(l.jsx)("div",{className:"app__main-container",children:Object(l.jsx)("main",{className:"app__main",children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{path:"/",element:Object(l.jsx)(Q,{})}),Object(l.jsx)(o.b,{path:"home",element:Object(l.jsx)(o.a,{to:"/",replace:!0})}),Object(l.jsxs)(o.b,{path:"phones",children:[Object(l.jsx)(o.b,{index:!0,element:Object(l.jsx)(G,{getProductsOfType:W,pageTitle:"Mobile phones"})}),Object(l.jsx)(o.b,{path:":productId",element:Object(l.jsx)(se,{})})]}),Object(l.jsxs)(o.b,{path:"tablets",children:[Object(l.jsx)(o.b,{index:!0,element:Object(l.jsx)(G,{getProductsOfType:K,pageTitle:"Tablets"})}),Object(l.jsx)(o.b,{path:":productId",element:Object(l.jsx)(se,{})})]}),Object(l.jsxs)(o.b,{path:"accessories",children:[Object(l.jsx)(o.b,{index:!0,element:Object(l.jsx)(G,{getProductsOfType:X,pageTitle:"Accessories"})}),Object(l.jsx)(o.b,{path:":productId",element:Object(l.jsx)(se,{})})]}),Object(l.jsx)(o.b,{path:"/cart",element:Object(l.jsx)(ne,{})}),Object(l.jsx)(o.b,{path:"/favorites",element:Object(l.jsx)(re,{})}),Object(l.jsx)(o.b,{path:"*",element:Object(l.jsx)($,{})})]})})}),Object(l.jsx)(d,{})]})})})};c(51);r.a.render(Object(l.jsx)(i.a,{children:Object(l.jsx)(ie,{})}),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.c9f8dcab.chunk.js.map